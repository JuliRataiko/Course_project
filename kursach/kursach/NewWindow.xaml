<Window x:Class="kursach.NewWindow"
         xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
     TextElement.Foreground="{DynamicResource MaterialDesignBody}"
     TextElement.FontWeight="Regular"
     TextElement.FontSize="13"
     TextOptions.TextFormattingMode="Ideal"
     TextOptions.TextRenderingMode="Auto"
     Background="{DynamicResource MaterialDesignPaper}"
     FontFamily="{DynamicResource MaterialDesignFont}"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Редактирование"
        Height="650"
        Width="1025">
    <Window.Resources>
        <Style
            TargetType="Button"
            x:Key="PaletteStyle">
            <Setter Property="Width" Value="25" />
            <Setter Property="Height" Value="25" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>
        <Style
            TargetType="Button"
            x:Key="ClearStyle">
            <Setter Property="Background"
                    Value="Transparent" />
            <Setter Property="BorderThickness"
                    Value="0" />
        </Style>
       
        <SolidColorBrush Color="#3399FF" x:Key="BlueIconBrush"/>

    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="32.8" />
            <ColumnDefinition />
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="140"
                              MinWidth="140" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="0" />
            <RowDefinition />
        </Grid.RowDefinitions>



        <Grid Grid.Column="0" Grid.Row="1" Margin="0,2,3.8,-0.2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />

            </Grid.RowDefinitions>
            <ToolBarPanel Grid.Row="0"
                          Margin="0,-4,0,0.4" Background="#FFE3E2E5">
                <Button Name="Button_mouse"
                    Style="{StaticResource ClearStyle}"
                 
                    ToolTip="Указатель"
                     x:FieldModifier="private" Padding="2" Margin="0,10,0,0">
                    <Image Source="Images/mouse.png"  />
                </Button>
                <Button Name="BrushButton"
                    Style="{StaticResource ClearStyle}"
                    ToolTip="Кисть"
                    x:FieldModifier="private" Padding="2">
                    <Image Source="Images/brush.png" />
                </Button>
                <Button x:Name="Button_Pruning"
            		Style="{StaticResource ClearStyle}"            		        	
            		ToolTip="Обрезка"
            		x:FieldModifier="private" Padding="2">
                    <Image Source="Images/Pruning.png" />
                </Button>
                <Button Name="Button_Line"
                    Style="{StaticResource ClearStyle}"                  
                    ToolTip="Линия"
                    x:FieldModifier="private"  Padding="2">
                    <Image Source="Images/Line.png"  />
                </Button>
                <Button x:Name="Button_squere"
            		Style="{StaticResource ClearStyle}"               		
            		ToolTip="Прямоугольник"
            		x:FieldModifier="private"  Padding="2">
                    <Image Source="Images/squere.png"  />
                </Button>
                <Button x:Name="Button_circle"
            		Style="{StaticResource ClearStyle}"               		
            		ToolTip="Эллипс"
            		x:FieldModifier="private"  Padding="2">
                    <Image Source="Images/circle.png" />
                </Button>
                <Button x:Name="Button_bitter"
            		Style="{StaticResource ClearStyle}"               		
            		ToolTip="Стерка"
            		x:FieldModifier="private" Padding="2">
                    <Image Source="Images/bitter.png" />
                </Button>
                <Button x:Name="Button_filling"
            		Style="{StaticResource ClearStyle}"               		
            		ToolTip="Заливка"
            		x:FieldModifier="private"  Padding="2">
                    <Image Source="Images/filling.png" />
                </Button>
                <Button x:Name="Button_gradient"
            		Style="{StaticResource ClearStyle}"               		
            		ToolTip="Градиент"
            		x:FieldModifier="private"  Padding="2">
                    <Image Source="Images/gradient.png" />
                </Button>
                <Button x:Name="Button_text"
            		Style="{StaticResource ClearStyle}"               		
            		ToolTip="Текст"
            		x:FieldModifier="private"  Padding="2">
                    <Image Source="Images/text.png"  />
                </Button>
                <materialDesign:PopupBox 
                                         PlacementMode="BottomAndAlignCentres"
                                         ToolTipService.Placement="Right"
                                        
                                         Opened="PopupBox_OnOpened"
                                         Closed="PopupBox_OnClosed" HorizontalAlignment="Stretch" Margin="0,0,-4,0" RenderTransformOrigin="0.503,0.5">
                    <materialDesign:PopupBox.Background>
                        <ImageBrush ImageSource="Images/text.png"/>
                    </materialDesign:PopupBox.Background>
                    <StackPanel Orientation="Horizontal">
                        <Button ToolTip="One with custom opacity" Opacity="0.9" Margin="-2,-4,0,-3" Padding="0,-8,0,0">
                            <Image Source="Images/text.png" Width="24" Height="24"  />
                        </Button>
                        <Button ToolTip="Two" Margin="-2,-4,0,-3" Padding="0,-10,0,0">
                            <Image Source="Images/text.png"  Width="24" Height="24"/>
                        </Button>
                        <Button ToolTip="Three" Margin="-2,-4,0,-3" Padding="0,-10,0,0">
                            <Image Source="Images/text.png" Width="24" Height="24" />
                        </Button>
                    </StackPanel>
                </materialDesign:PopupBox>


            </ToolBarPanel>

        </Grid>

        <GridSplitter Name="LayersSplitter"
                      ResizeDirection="Columns"
                      Grid.Column="2"
                      Grid.RowSpan="2"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Stretch"
                      Width="2"
                      x:FieldModifier="private" Grid.ColumnSpan="2" Margin="0.2,0,139.4,-0.2">
        </GridSplitter>

        <Expander Name="LayersExpander"
                  Header="Слои"
                  ExpandDirection="Down"
                  IsExpanded="True"
                  Grid.Column="2"
                  Grid.Row="0"
                  Grid.RowSpan="2"
                  x:FieldModifier="private" Grid.ColumnSpan="2" Margin="1.2,0,0.4,-0.2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="25px" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="3*" />
                        <ColumnDefinition Width="24px" />
                        <ColumnDefinition Width="24px" />
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0"
                            Style="{StaticResource ClearStyle}"
                            HorizontalContentAlignment="Left"
                            ToolTip="Новый слой">
                        <Image Source="Images/Layers.png" Width="24" Height="24" />
                    </Button>
                    <Button Grid.Column="1"
                            Style="{StaticResource ClearStyle}"                          
                            ToolTip="Поднять слой">
                        <Button
                    		Style="{StaticResource ClearStyle}"
                      		ToolTip="Поднять слой" Height="24.8" Width="24">
                            <Image Source="Images/layer_up.png" Width="24" Height="20" />
                        </Button>
                    </Button>
                    <Button Grid.Column="2"
                            Style="{StaticResource ClearStyle}"                           
                            ToolTip="Опустить слой">
                        <Button
                    		Style="{StaticResource ClearStyle}"                    		
                    		ToolTip="Опустить слой" Height="24.8" Width="24">
                            <Image Source="Images/layer_down.png" Width="24" Height="20" />
                        </Button>
                    </Button>
                </Grid>
                <ListBox Grid.Row="1"
                         Name="LayerList"                         
                         HorizontalContentAlignment="Stretch"
                         x:FieldModifier="private" />
            </Grid>
        </Expander>

        <Canvas Name="MainCanvas"
                ClipToBounds="True"
                Grid.Column="1"
                Grid.Row="1"
                x:FieldModifier="private" Margin="1.2,2,1.8,-0.2" />
    </Grid>
</Window>
